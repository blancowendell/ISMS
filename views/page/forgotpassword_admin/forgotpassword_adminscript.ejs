<!-- <script>
    $(document).ready(function () {
      $("#resetLink").click(function () {
        const email = $("#username").val();
  
        // Show loading state (disable button and add spinner)
        $("#resetLink").prop("disabled", true).html('<i class="fa fa-spinner fa-spin"></i> Sending...');
  
        $.ajax({
          type: "POST",
          url: "/forgotpassword_admin/reset-password",
          data: JSON.stringify({ email: email }),
          contentType: "application/json",
          success: function (result) {
            // Remove loading state (enable button and restore text)
            $("#resetLink").prop("disabled", false).html('Reset Password');
  
            if (result.msg == "success") {
              toastr.success("Check your email for the reset link.", "Password Reset Successful");
  
              // Reload page after the toast
              setTimeout(function () {
                window.location.reload();
              }, 3000);
            } else {
              toastr.warning("Data already exists!", "Warning");
            }
          },
          error: function (err) {
            // Remove loading state in case of error
            $("#resetLink").prop("disabled", false).html('Reset Password');
  
            toastr.error("An error occurred while processing your request.", "Error");
          },
        });
      });
    });
  </script>
   -->


   <script>
    $(document).ready(function () {
      $("#resetLink").click(function () {
        const email = $("#username").val();
  
        // Show loading state (disable button and add spinner)
        $("#resetLink").prop("disabled", true).html('<i class="fa fa-spinner fa-spin"></i> Sending...');
  
        $.ajax({
          type: "POST",
          url: "/forgotpassword_admin/reset-password",
          data: JSON.stringify({ email: email }),
          contentType: "application/json",
          success: function (result) {
            // Remove loading state (enable button and restore text)
            $("#resetLink").prop("disabled", false).html('Reset Password');
  
            if (result.msg === "success") {
              // Show SweetAlert for success
              swal({
                title: "Password Reset Successful",
                text: "Check your email for the reset link.",
                icon: "success",
                confirmButtonText: "OK"
              }).then(() => {
                // Reload page after the alert
                window.location.reload();
              });
            } else {
              // Show SweetAlert for warning
              swal({
                title: "Warning",
                text: "Data already exists!",
                icon: "warning",
                confirmButtonText: "OK"
              });
            }
          },
          error: function (err) {
            // Remove loading state in case of error
            $("#resetLink").prop("disabled", false).html('Reset Password');
  
            // Show SweetAlert for error
           swal({
              title: "Error",
              text: "An error occurred while processing your request.",
              icon: "error",
              confirmButtonText: "OK"
            });
          },
        });
      });
    });
  </script>
  